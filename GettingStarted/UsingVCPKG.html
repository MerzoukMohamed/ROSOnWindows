<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>Using a C++ Depdendency - ROS on Windows</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Using a C++ Depdendency";
    var mkdocs_page_input_path = "GettingStarted\\UsingVCPKG.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="icon icon-home"> ROS on Windows</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../index.html">Home</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../WhatsNew.html">What's New</a>
	    </li>
          
            <li class="toctree-l1">
		
    <a class="" href="../Build/buildfarm.html">Build Status</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Get ROS</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="Setup.html">Binary Installation</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Using ROS</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="NewToROS.html">For new ROS Users</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tutorials</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="http://wiki.ros.org/ROS/Tutorials">Tutorials at ROS Wiki &nearr;</a>
                </li>
                <li class="">
                    
    <a class="" href="../Moveit/moveit_tutorials.html">MoveIt</a>
                </li>
                <li class="">
                    
    <a class="" href="../Moveit/UR3.html">Universal Robot UR3</a>
                </li>
                <li class="">
                    
    <a class="" href="../Turtlebot/Turtlebot3.html">TurtuleBot 3</a>
                </li>
                <li class="">
                    
    <a class="" href="../tutorials/sick_s300/getting_started.html">SICK S300</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">CI/CD Practices</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="SetupCI.html">Continuous Integration Template</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Porting Guide</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="UsingROSonWindows.html">Consuming a ROS Package</a>
                </li>
                <li class="">
                    
    <a class="" href="PortingANode.html">Porting a ROS Package</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="UsingVCPKG.html">Using a C++ Depdendency</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#using-a-c-dependency-in-a-ros-node-using-vcpkg">Using a C++ Dependency in a ROS Node using vcpkg</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#updating-vcpkg-mappings">Updating vcpkg mappings</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="AddingVCPKG.html">Porting a C++ Depdendency</a>
                </li>
                <li class="">
                    
    <a class="" href="../Porting/Cookbook.html">Porting Cookbook</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">ROS at Microsoft</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../ROSAtMS/ROS1AzureVM.html">ROS 1 Azure VM</a>
                </li>
                <li class="">
                    
    <a class="" href="../ROSAtMS/WinML.html">Windows ML ROS Node</a>
                </li>
                <li class="">
                    
    <a class="" href="https://github.com/microsoft/azure_kinect_ros_driver">Azure Kinect ROS Node &nearr;</a>
                </li>
                <li class="">
                    
    <a class="" href="https://github.com/microsoft/ros_azure_iothub">Azure IoT Hub Node &nearr;</a>
                </li>
                <li class="">
                    
    <a class="" href="https://aka.ms/ros/vscode">Visual Studio Code ROS Extension &nearr;</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Advanced</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../Build/source.html">Source Installation</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Support</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="Troubleshooting.html">Troubleshooting</a>
                </li>
                <li class="">
                    
    <a class="" href="https://github.com/ms-iot/rosonwindows/issues">Create Issue</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">ROS on Windows</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
    
      
        
          <li>Porting Guide &raquo;</li>
        
      
    
    <li>Using a C++ Depdendency</li>
    <li class="wy-breadcrumbs-aside">
      
        <a href="https://github.com/ms-iot/rosonwindows/edit/master/docs/GettingStarted/UsingVCPKG.md"
          class="icon icon-github"> Edit on GitHub</a>
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="using-a-c-dependency-in-a-ros-node-using-vcpkg">Using a C++ Dependency in a ROS Node using vcpkg</h1>
<p>If you find that a dependency is not met with vcpkg today, that dependency can be added by following the <a href="AddingVCPKG.html">vcpkg guide</a></p>
<h3 id="updating-vcpkg-mappings">Updating vcpkg mappings</h3>
<p>Often the name of a a library on Linux differs from the name on vcpkg. In order to address this, a mapping file called <code>vcpkg.yaml</code> is part of the rosditro database. This creates a mapping between the Linux name for the package and the vcpkg name.</p>
<ul>
<li>Fork <a href="https://github.com/ms-iot/rosdistro-db">https://github.com/ms-iot/rosdistro-db</a> &nearr; into your github account, if you haven't already</li>
<li>Create a file called <code>0-update.list</code> in <code>c:\opt\ros\melodic\x64\etc\ros\rosdep\sources.list.d</code></li>
<li>In this file, add a line which points to your fork.</li>
</ul>
<pre><code class="no-highlight"># os-specific listings first
yaml https://raw.githubusercontent.com/&lt;your github&gt;/rosdistro-db/init_windows/rosdep/win-chocolatey.yaml windows
yaml https://raw.githubusercontent.com/&lt;your github&gt;/rosdistro-db/init_windows/rosdep/vcpkg.yaml windows
</code></pre>

<ul>
<li>Add a mapping from the dependency name used in the ROS package, to the name used in vcpkg. You can edit this file directly on github in your fork. 
  The format of the vcpkg.yaml:</li>
</ul>
<p><code>Python</code></p>
<pre><code class="no-highlight">&lt;python-package-name&gt;:
    windows:
      pip:
        packages: [&lt;python-package-name-in-pip&gt;]
</code></pre>

<p><code>C++</code></p>
<pre><code class="no-highlight">  &lt;linux--package-name&gt;:
    windows:
      vcpkg:
        packages: [&lt;vcpkg-name&gt;]
</code></pre>

<ul>
<li>Update rosdeps on your computer.</li>
</ul>
<pre><code class="no-highlight">rosdep update
rosdep install --from-paths src --ignore-src -r -y
</code></pre>

<p>You'll see that the dependency resolves correctly. However, you may be provided with specific instructions for using that library in ROS nodes:</p>
<pre><code class="no-highlight">The package &lt;library&gt;:x64-windows provides CMake targets:

    find_package(&lt;package&gt; CONFIG REQUIRED)
    target_link_libraries(main PRIVATE &lt;package&gt; &lt;package&gt;::&lt;namespace&gt;)
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="AddingVCPKG.html" class="btn btn-neutral float-right" title="Porting a C++ Depdendency">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="PortingANode.html" class="btn btn-neutral" title="Porting a ROS Package"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/ms-iot/rosonwindows/" class="fa fa-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="PortingANode.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="AddingVCPKG.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>

</body>
</html>
